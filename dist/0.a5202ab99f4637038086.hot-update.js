webpackHotUpdate(0,{/***/
580:/***/
function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _extends2 = __webpack_require__(36);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = __webpack_require__(3);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(4);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(6);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(7);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(18);\n\nvar _hashids = __webpack_require__(581);\n\nvar _hashids2 = _interopRequireDefault(_hashids);\n\nvar _reactShare = __webpack_require__(582);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Registration = function (_Component) {\n    (0, _inherits3.default)(Registration, _Component);\n\n    function Registration(props) {\n        (0, _classCallCheck3.default)(this, Registration);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Registration.__proto__ || Object.getPrototypeOf(Registration)).call(this, props));\n\n        var referredby = \'\';\n        console.log(">>>>>", _this.props);\n        if (_this.props.match.hasOwnProperty(\'params\')) {\n            if (_this.props.match.params.id) {\n                referredby = _this.props.match.params.id;\n            }\n        }\n\n        _this.state = {\n            projectname: \'\',\n            showform: \'db\',\n            navigation: "dn",\n            showgrid: "dn",\n            floorno: 10,\n            name: \'\',\n            selectedBlock: \'\',\n            lid: \'\',\n            deviceid: window.localStorage.getItem(\'deviceToken\'),\n            matrix: [],\n            referralcode: \'\',\n            referredby: referredby\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(Registration, [{\n        key: "generateSquareMatrix",\n        value: function generateSquareMatrix(num, init, max, diff, floorno) {\n            var arr = [],\n                row,\n                col;\n            var i = init;\n            var j = i + diff;\n            for (row = 0; row < num; row++) {\n                arr[row] = [];\n                for (col = 0; col < num; col++) {\n                    arr[row][col] = floorno + "F-" + i + " to " + floorno + "F-" + j;\n                    i = j + 1;\n                    j = i + diff;\n                }\n            }\n            return arr;\n        }\n    }, {\n        key: "componentWillMount",\n        value: function componentWillMount() {\n            var devicetoken = window.localStorage.getItem(\'deviceToken\');\n            var subscriber = window.localStorage.getItem(\'subscriber\');\n            if (subscriber !== null && devicetoken !== null) {\n                this.props.history.push(\'/mainpage\');\n            }\n        }\n    }, {\n        key: "componentDidMount",\n        value: function componentDidMount() {\n\n            this.refs.referredby.value = this.state.referredby;\n        }\n    }, {\n        key: "gridClickHandler",\n        value: function gridClickHandler(e) {\n            this.setState((0, _extends3.default)({}, this.state, {\n                selectedBlock: e.currentTarget.getAttribute(\'blockid\'),\n                projectname: e.currentTarget.getAttribute(\'blockid\'),\n                lid: e.currentTarget.id }));\n        }\n    }, {\n        key: "registerUser",\n        value: function registerUser() {\n            var _this2 = this;\n\n            if (this.refs.mobileno.value !== \'\' && this.refs.name.value !== \'\' && this.state.lid !== \'\' && this.state.projectname !== \'\') {\n                var hashids = new _hashids2.default(this.refs.name.value);\n                var refcode = hashids.encode(1, 2, 3); // Z4UrtW\n                var userInfo = {\n                    lid: this.state.lid,\n                    projectname: this.state.projectname,\n                    deviceid: this.state.deviceid,\n                    floorno: this.state.floorno,\n                    mobileno: this.refs.mobileno.value,\n                    name: this.refs.name.value,\n                    referralcode: refcode,\n                    referredby: this.refs.referredby.value\n                };\n                fetch(\'/api/userregistration\', {\n                    method: \'POST\',\n                    headers: {\n                        \'Accept\': \'application/json\',\n                        \'Content-Type\': \'application/json\'\n                    },\n                    body: JSON.stringify(userInfo)\n                }).then(function (res) {\n                    return res.json();\n                }).then(function (json) {\n                    console.log(json);\n\n                    if (json.data.length > 0) {\n                        window.localStorage.setItem(\'subscriber\', json.data[0].id);\n                        window.localStorage.setItem(\'mno\', _this2.refs.mobileno.value);\n                        window.localStorage.setItem(\'referralcode\', refcode);\n                        _this2.setState((0, _extends3.default)({}, _this2.state, { navigation: "db", showform: "dn", name: _this2.refs.name.value }));\n                    } else {\n                        alert("Please use Valid Referral code!!");\n                    }\n                });\n            } else {\n                alert("Please fill all mandatory Fields !!!");\n            }\n        }\n    }, {\n        key: "checkstatus",\n        value: function checkstatus(id) {\n            if ("Block-" + id === this.state.selectedBlock) {\n                return "recall-grid-tile is-selected";\n            } else {\n                return "recall-grid-tile";\n            }\n        }\n    }, {\n        key: "drawgrid",\n        value: function drawgrid() {\n            var _this3 = this;\n\n            var blockid = 0;\n            var template = this.state.matrix.map(function (row, rowIdx) {\n                return _react2.default.createElement(\n                    "div",\n                    { key: rowIdx, className: "recall-grid-row" },\n                    row.map(function (col, colIdx) {\n                        blockid++;\n                        return _react2.default.createElement(\n                            "div",\n                            { key: colIdx,\n                                id: _this3.state.floorno + "F-" + (rowIdx + 1) + "B-" + (colIdx + 1) + "R",\n                                blockid: "Block-" + blockid,\n                                className: _this3.checkstatus(blockid),\n                                onClick: function onClick(e) {\n                                    _this3.gridClickHandler(e, colIdx);\n                                }\n                            },\n                            _react2.default.createElement(\n                                "div",\n                                null,\n                                " Seat No",\n                                _react2.default.createElement("br", null),\n                                col\n                            )\n                        );\n                    })\n                );\n            });\n            return template;\n        }\n    }, {\n        key: "render",\n        value: function render() {\n            var _this4 = this;\n\n            return _react2.default.createElement(\n                "div",\n                null,\n                _react2.default.createElement(\n                    "div",\n                    { className: "section section-breadcrumbs" },\n                    _react2.default.createElement(\n                        "div",\n                        { className: "container" },\n                        _react2.default.createElement(\n                            "div",\n                            { className: "row" },\n                            _react2.default.createElement(\n                                "div",\n                                { className: "col-md-12" },\n                                _react2.default.createElement(\n                                    "h1",\n                                    null,\n                                    "Register for Inter-Galactic VISA"\n                                )\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    "div",\n                    { className: "section galaxy-container" },\n                    _react2.default.createElement(\n                        "div",\n                        { className: "container" },\n                        _react2.default.createElement(\n                            "div",\n                            { className: "row" },\n                            _react2.default.createElement(\n                                "div",\n                                { className: "col-sm-7" },\n                                _react2.default.createElement(\n                                    "div",\n                                    { className: "basic-login " + this.state.showform },\n                                    _react2.default.createElement(\n                                        "form",\n                                        { role: "form" },\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "form-group" },\n                                            _react2.default.createElement(\n                                                "label",\n                                                null,\n                                                _react2.default.createElement("i", { className: "icon-user" }),\n                                                " ",\n                                                _react2.default.createElement(\n                                                    "b",\n                                                    null,\n                                                    "Nick Name",\n                                                    _react2.default.createElement(\n                                                        "sup",\n                                                        null,\n                                                        "*"\n                                                    )\n                                                )\n                                            ),\n                                            _react2.default.createElement("input", { minLength: "3", maxLength: "20", type: "text", name: "first_name", id: "first_name", className: "form-control input-sm", placeholder: "Nick Name", required: "required", ref: "name" })\n                                        ),\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "form-group" },\n                                            _react2.default.createElement(\n                                                "label",\n                                                null,\n                                                _react2.default.createElement("i", { className: "icon-phone" }),\n                                                " ",\n                                                _react2.default.createElement(\n                                                    "b",\n                                                    null,\n                                                    "Mobile Number",\n                                                    _react2.default.createElement(\n                                                        "sup",\n                                                        null,\n                                                        "*"\n                                                    )\n                                                )\n                                            ),\n                                            _react2.default.createElement("input", { id: "mobileno", name: "Mobile No.", ref: "mobileno", placeholder: "10 Digit Mobile No.",\n                                                className: "form-control input-sm", required: "required", type: "text", size: "20", minLength: "9", maxLength: "10" })\n                                        ),\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "form-group" },\n                                            _react2.default.createElement(\n                                                "label",\n                                                null,\n                                                _react2.default.createElement("i", { className: "glyphicon glyphicon-gift" }),\n                                                " ",\n                                                _react2.default.createElement(\n                                                    "b",\n                                                    null,\n                                                    "Refferal Code"\n                                                )\n                                            ),\n                                            _react2.default.createElement("input", { name: "referredby", ref: "referredby", autoComplete: "", size: "20", minLength: "0", maxLength: "6", placeholder: "Use refferal Code if any !!", className: "form-control input-sm",\n                                                onChange: function onChange(e) {\n                                                    _this4.setState((0, _extends3.default)({}, _this4.state, { referredby: e.target.value }));\n                                                },\n                                                type: "text"\n                                            })\n                                        ),\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "form-group" },\n                                            _react2.default.createElement(\n                                                "label",\n                                                null,\n                                                _react2.default.createElement("i", { className: "icon-building" }),\n                                                " ",\n                                                _react2.default.createElement(\n                                                    "b",\n                                                    null,\n                                                    "Select Floor ",\n                                                    _react2.default.createElement(\n                                                        "sup",\n                                                        null,\n                                                        "*"\n                                                    )\n                                                )\n                                            ),\n                                            _react2.default.createElement(\n                                                "select",\n                                                { onChange: function onChange(event) {\n                                                        if (event.target.value !== \'\') {\n                                                            _this4.setState((0, _extends3.default)({}, _this4.state, { floorno: event.target.value, showgrid: \'db\', matrix: _this4.generateSquareMatrix(4, 1, 600, 39, event.target.value) }));\n                                                        } else {\n                                                            _this4.setState((0, _extends3.default)({}, _this4.state, { showgrid: \'dn\' }));\n                                                        }\n                                                    },\n                                                    id: "inputState", className: "form-control input-sm" },\n                                                _react2.default.createElement(\n                                                    "option",\n                                                    { value: "" },\n                                                    "Floor No ..."\n                                                ),\n                                                _react2.default.createElement(\n                                                    "option",\n                                                    { value: "4" },\n                                                    "Floor-4"\n                                                ),\n                                                _react2.default.createElement(\n                                                    "option",\n                                                    { value: "5" },\n                                                    "Floor-5"\n                                                ),\n                                                _react2.default.createElement(\n                                                    "option",\n                                                    { value: "6" },\n                                                    "Floor-6"\n                                                ),\n                                                _react2.default.createElement(\n                                                    "option",\n                                                    { value: "7" },\n                                                    "Floor-7"\n                                                ),\n                                                _react2.default.createElement(\n                                                    "option",\n                                                    { value: "8" },\n                                                    "Floor-8"\n                                                ),\n                                                _react2.default.createElement(\n                                                    "option",\n                                                    { value: "9" },\n                                                    "Floor-9"\n                                                ),\n                                                _react2.default.createElement(\n                                                    "option",\n                                                    { value: "10" },\n                                                    "Floor-10"\n                                                )\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "form-group " + this.state.showgrid },\n                                            _react2.default.createElement(\n                                                "label",\n                                                null,\n                                                _react2.default.createElement("i", { className: "icon-building" }),\n                                                " ",\n                                                _react2.default.createElement(\n                                                    "b",\n                                                    null,\n                                                    "Select Your Area ",\n                                                    _react2.default.createElement(\n                                                        "sup",\n                                                        null,\n                                                        "*"\n                                                    ),\n                                                    " "\n                                                )\n                                            ),\n                                            _react2.default.createElement(\n                                                "div",\n                                                { className: "row" },\n                                                _react2.default.createElement(\n                                                    "div",\n                                                    { className: "form-group canvas-container col-md-12" },\n                                                    _react2.default.createElement(\n                                                        "div",\n                                                        { className: "recall-grid" },\n                                                        this.drawgrid()\n                                                    )\n                                                )\n                                            )\n                                        ),\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "form-group" },\n                                            _react2.default.createElement(\n                                                "p",\n                                                { style: { "fontSize": "10px" } },\n                                                _react2.default.createElement(\n                                                    "i",\n                                                    null,\n                                                    "By registering, you are providing consent for sending Quiz/prize notifications to your mobile. "\n                                                )\n                                            ),\n                                            _react2.default.createElement(\n                                                "button",\n                                                { type: "button", onClick: function onClick() {\n                                                        _this4.registerUser();\n                                                    }, className: "btn pull-right" },\n                                                "Register"\n                                            ),\n                                            _react2.default.createElement("div", { className: "clearfix" })\n                                        )\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    "div",\n                                    { className: "row " + this.state.navigation },\n                                    _react2.default.createElement(\n                                        "div",\n                                        { className: "col-sm-12 col-md-6" },\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "well panel-heading service-wrapper alignheading" },\n                                            _react2.default.createElement(\n                                                "div",\n                                                { className: "widget-tile" },\n                                                _react2.default.createElement(\n                                                    "section",\n                                                    null,\n                                                    _react2.default.createElement(\n                                                        "h3",\n                                                        null,\n                                                        " Thank you for registration"\n                                                    ),\n                                                    _react2.default.createElement("div", { className: "progress xs green" }),\n                                                    _react2.default.createElement(\n                                                        "div",\n                                                        { className: "thanku-template" },\n                                                        _react2.default.createElement(\n                                                            "h2",\n                                                            null,\n                                                            "  Hi ",\n                                                            this.state.name,\n                                                            "!"\n                                                        ),\n                                                        _react2.default.createElement(\n                                                            "h3",\n                                                            null,\n                                                            " Congratulations !!!"\n                                                        ),\n                                                        _react2.default.createElement(\n                                                            "div",\n                                                            { className: "thanku-details" },\n                                                            _react2.default.createElement(\n                                                                "p",\n                                                                null,\n                                                                "Congratulations!! Your Inter-Galactic VISA has been approved and we are waiting to host you on Agartha."\n                                                            )\n                                                        ),\n                                                        _react2.default.createElement(\n                                                            _reactRouterDom.Link,\n                                                            { className: "btn", to: "/mainpage" },\n                                                            "   Go to Dashboard "\n                                                        )\n                                                    )\n                                                )\n                                            )\n                                        )\n                                    ),\n                                    _react2.default.createElement(\n                                        "div",\n                                        { className: "col-sm-12 col-md-6" },\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "well panel-heading service-wrapper alignheading" },\n                                            _react2.default.createElement(\n                                                "div",\n                                                { className: "widget-tile" },\n                                                _react2.default.createElement(\n                                                    "section",\n                                                    null,\n                                                    _react2.default.createElement(\n                                                        "h3",\n                                                        null,\n                                                        " Refferal Code"\n                                                    ),\n                                                    _react2.default.createElement("div", { className: "progress xs green" }),\n                                                    _react2.default.createElement(\n                                                        "div",\n                                                        { className: "row" },\n                                                        _react2.default.createElement(\n                                                            "div",\n                                                            { className: "thanku-actions text-center" },\n                                                            _react2.default.createElement(\n                                                                "p",\n                                                                null,\n                                                                " Forward or share your refferal code with your friends to get chance to win Prize."\n                                                            ),\n                                                            _react2.default.createElement(\n                                                                "div",\n                                                                { className: "col-sm-12 col-md-6" },\n                                                                _react2.default.createElement(\n                                                                    "div",\n                                                                    { className: "alert alert-success code " },\n                                                                    " ",\n                                                                    window.localStorage.getItem(\'referralcode\'),\n                                                                    " "\n                                                                )\n                                                            ),\n                                                            _react2.default.createElement(\n                                                                "div",\n                                                                { className: "col-sm-12 col-md-6 top" },\n                                                                _react2.default.createElement(\n                                                                    _reactShare.WhatsappShareButton,\n                                                                    {\n                                                                        url: "Referral Code: " + window.localStorage.getItem(\'referralcode\') + "  url: " + location.origin + "/home/" + window.localStorage.getItem(\'referralcode\')\n                                                                    },\n                                                                    " ",\n                                                                    _react2.default.createElement(_reactShare.WhatsappIcon, { size: 32, round: true })\n                                                                ),\n                                                                _react2.default.createElement(\n                                                                    "span",\n                                                                    null,\n                                                                    _react2.default.createElement(\n                                                                        "a",\n                                                                        { href: "mailto:?subject=Referral Code " + window.localStorage.getItem(\'referralcode\') + "&body= url :" + location.origin + "/home/" + window.localStorage.getItem(\'referralcode\') },\n                                                                        " ",\n                                                                        _react2.default.createElement("span", { className: "glyphicon glyphicon-envelope icon-size" })\n                                                                    ),\n                                                                    _react2.default.createElement(\n                                                                        "a",\n                                                                        { href: "sms://?&body=" + window.localStorage.getItem(\'referralcode\') },\n                                                                        "SMS"\n                                                                    )\n                                                                )\n                                                            )\n                                                        )\n                                                    )\n                                                )\n                                            )\n                                        )\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                "div",\n                                { className: "col-sm-4 col-sm-offset-1 social-login" },\n                                _react2.default.createElement(\n                                    "div",\n                                    { className: "basic-login" },\n                                    _react2.default.createElement(\n                                        "div",\n                                        { className: "text-center" },\n                                        _react2.default.createElement("img", { src: "/img/Icon-100.png", alt: "AGARTHA" })\n                                    ),\n                                    _react2.default.createElement(\n                                        "div",\n                                        { className: "in-press press-wired text-center" },\n                                        _react2.default.createElement(\n                                            "h4",\n                                            null,\n                                            " THE FUTURE IS HISTORY"\n                                        )\n                                    ),\n                                    _react2.default.createElement(\n                                        "div",\n                                        { className: "panel-group" },\n                                        _react2.default.createElement("div", { className: "panel panel-default" }),\n                                        _react2.default.createElement(\n                                            "div",\n                                            { className: "panel panel-default" },\n                                            _react2.default.createElement(\n                                                "div",\n                                                { className: "panel-heading" },\n                                                _react2.default.createElement(\n                                                    "p",\n                                                    null,\n                                                    "\\"Space-ship\\" bound to Agartha will be taking off on  ",\n                                                    _react2.default.createElement(\n                                                        "b",\n                                                        null,\n                                                        "4-Oct-2018. "\n                                                    ),\n                                                    "Make the most of this once in a lifetime opportunity to travel the cosmos."\n                                                ),\n                                                "  "\n                                            )\n                                        )\n                                    )\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return Registration;\n}(_react.Component);\n\nexports.default = (0, _reactRouterDom.withRouter)(Registration);\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/components/user/registration.js\n// module id = 580\n// module chunks = 0\n\n//# sourceURL=webpack:///./client/src/components/user/registration.js?')}});